<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <script src="UIEngine.js"></script>
    <link rel="stylesheet" href="styles.css" />
</head>

<body>
    <div id="_body_" class="screenBox">
        <button class="btn-close" onclick="closeWindow();" id="_close_">x</button>
        <p class="infoBox">Your are looking at a rocket!</p>
    </div>
</body>

<script type="text/javascript">
    // Get a handle to the scripting interface on creation.
    // The script interface can trigger events to the client script
    let scriptEngineHandle = undefined;
    engine.on("facet:updated:core.scripting", function(scriptEngine) {
        scriptEngineHandle = scriptEngine;
    });

    engine.trigger("facet:request", ["core.scripting"]);

    // Grab the start button element
    let startButton = document.getElementById("_start_");
    // When the start button is pressed send a message to the client script
    startButton.addEventListener("click", function() {
        scriptEngineHandle.triggerEvent("startPressed");
    });

    // Grab the leave button element
    let leaveButton = document.getElementById("_close_");
    // When the leave button is pressed send a message to the client script
    leaveButton.addEventListener("click", function() {
        scriptEngineHandle.triggerEvent("leavePressed");
    });

    function closeWindow() {
        scriptEngineHandle.triggerEvent("leaveRocket");
        setTimeout(function() {
            scriptEngineHandle.triggerEvent("readyForRocket");
        }, 2000);
    }

    function visitWebsite() {
        scriptEngineHandle.triggerEvent("visitWebsite");
    }

    let btnClose = document.getElementById("_website_");
    // When the leave button is pressed send a message to the client script
    btnClose.addEventListener("click", function() {
        scriptEngineHandle.triggerEvent("visitWebsite");
    });

    document.getElementById("icon_rtr").style.backgroundImage = "url(\"rtr_small.png\")";
</script>

</html>